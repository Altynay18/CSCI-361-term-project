<!DOCTYPE html>
<html xmlns:th="http://www.w3.org/1999/xhtml">
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="preconnect" href="https://fonts.gstatic.com">
	<link href="https://fonts.googleapis.com/css2?family=Junge&display=swap" rel="stylesheet">
	<link rel="preconnect" href="https://fonts.gstatic.com">
	<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,600;1,400&family=Junge&display=swap" rel="stylesheet">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
<style>
table {
  border: 1px solid black;
}
</style>
</head>
<div class="d-flex flex-column flex-md-row justify-content-center align-items-center p-3 px-md-4 mb-3 bg-white border-bottom shadow-sm" style="height: 100px;">
	<p style="color: black; font-family: 'Cormorant Garamond', serif; font-size: 20px" >Hedgehogs Hotel Chain</p> <p style="color: #FFFFFF">kkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkk</p>

	<img src="https://tattmight.com/albums/userpics/2015y/02/09/20/206/0319-I_have_no_interest_i_8_ink.jpg" style="justify-content: center; width: 160px; height: 100px;">
	<p style="color: #FFFFFF">kkkkkkkkkkkkkkkk kkklkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkk</p>

	<a class="btn btn-outline-dark" th:href="@{/}">Main page</a>
	<a class="btn btn-outline-dark" th:href="@{/manager}">Manager menu</a>
	<a class="btn btn-outline-dark" th:href="@{/manager/search}">Employee search</a>

	<nav class="my-2 my-md-0 mr-md-3">
	</nav>

	<!--  <a class="btn btn-outline-primary" th:href="@{profile}">My profile</a>-->
</div>
<body>


	<div class="container">
		<h2 style="color: black; font-family: 'Cormorant Garamond', serif; font-size: 20px"  th:text="${employee.getEmployee().getName() + ' ' + employee.getEmployee().getSecond_name()}"></h2>
		<h3 style="color: black; font-family: 'Cormorant Garamond', serif; font-size: 20px"  th:text="${employee.getEmployee().getEmployee_type()}"></h3>
		
		<ul class="nav nav-tabs" id="myTab">
			<li style="color: black; font-family: 'Cormorant Garamond', serif; font-size: 20px"  class="nav-item"><a href="#schedule" class="nav-link active" data-toggle="tab">Change schedule</a></li>
			<li style="color: black; font-family: 'Cormorant Garamond', serif; font-size: 20px"   class="nav-item"><a href="#salary" class="nav-link active" data-toggle="tab">Calculate Salary</a></li>
			<li style="color: black; font-family: 'Cormorant Garamond', serif; font-size: 20px"  class="nav-item"><a href="#dayoff" class="nav-link active" data-toggle="tab">Add day-offs</a></li>
		</ul>

		<div class="tab-content">
			<div id="schedule" class="tab-pane fade in active">
				<h3 style="color: black; font-family: 'Cormorant Garamond', serif; font-size: 20px"   th:text="${'Schedule'}"></h3>
				<label style="color: black; font-family: 'Cormorant Garamond', serif; font-size: 20px"   th:text="${'Current schedule: '}"></label>
				<div style="color: black; font-family: 'Cormorant Garamond', serif; font-size: 20px"   th:each="w : ${employee.getFullWeekdays()}">
					<div style="color: black; font-family: 'Cormorant Garamond', serif; font-size: 20px"
						 th:text="${w +': ' + employee.getFrom() + ' - ' + employee.getTo()}"></div>
				</div>
				<br>
				<label style="color: black; font-family: 'Cormorant Garamond', serif; font-size: 20px"  >Fill the form and save to change the schedule</label>
				<form action="@{/manager/search}" th:action="@{/manager/save}"
					th:object="${employee}" method="post">

					<input type="hidden" th:field="*{employee_id}" />

					<p style="color: black; font-family: 'Cormorant Garamond', serif; font-size: 20px" >
						Working Hours: <input type="text" th:field="*{from}" /> - <input
							type="text" th:field="*{to}" />
					</p>
					<p style="color: black; font-family: 'Cormorant Garamond', serif; font-size: 20px"  >
						Weekdays: <input type="checkbox" name="weekdays"
							th:each="w : ${weekday}" th:text="${w}"
							th:value="${#strings.substring(w,0,1)}" th:field="*{weekdays}" />
					</p>
					<p style="color: black; font-family: 'Cormorant Garamond', serif; font-size: 20px"  >
						Salary per hour: <input type="text" th:field="*{salary_per_hour}" />
					</p>

					<button style="color: black; font-family: 'Cormorant Garamond', serif; font-size: 20px"   type="submit">Save</button>
				</form>
				
				<p style="color: black; font-family: 'Cormorant Garamond', serif; font-size: 20px"  th:text="${message}"></p>
			</div>
			
			
			<div id="salary" class="tab-pane fade">
				<h3 style="color: black; font-family: 'Cormorant Garamond', serif; font-size: 20px"   th:text="${'Salary'}"></h3>
				<p style="color: black; font-family: 'Cormorant Garamond', serif; font-size: 20px"   th:text="${'Current date: '+employee.getCurDate()}"></p>
				<br>
				<div
					th:with="result=${employee.totalSalary()-employee.getSalary_per_hour()*employee.hourPerDay()*monthdayoff}">
					<label style="color: black; font-family: 'Cormorant Garamond', serif; font-size: 20px"  >This month salary:</label>
					<p th:text="${'Planned working days: ' + employee.getWorkedDays()}"></p>
					<p th:text="${'Number of days-off: ' + monthdayoff}"></p>
					<p th:text="${'Hours per day: ' + employee.hourPerDay()}"></p>
					<p th:text="${'Salary per hour: ' + employee.getSalary_per_hour()}"></p>
					<p th:text="${'TOTAL SALARY: ' + result}"></p>
				</div>
				<br>
				<label style="color: black; font-family: 'Cormorant Garamond', serif; font-size: 20px" >Optional calculation: </label>
				<br>
				<form action="@{/manager/edit}+employee.getEmployee_id()"
				th:action="@{/manager/salary}"
					 method="post">
				<input style="color: black; font-family: 'Cormorant Garamond', serif; font-size: 20px"   type="hidden" th:name="id"
						th:value="${employee.getEmployee_id()}" />
				From: <input style="color: black; font-family: 'Cormorant Garamond', serif; font-size: 20px"  type="date" th:name="fromS" /> To: <input type="date" th:name="toS" /> <input type="submit"
						value="Calculate" />
				</form>
				<p th:text="${message3}"></p>
				<div th:if="${workdays!=null}"
					th:with="result2=${employee.getSalary_per_hour()*employee.hourPerDay()*(workdays-dayoffs)}">
					<label th:text="${'Salary for the dates: ' + froms + ' - ' + tos}"></label>
					<p th:text="${'Planned working days: ' + workdays}"></p>
					<p th:text="${'Number of days-off: ' + dayoffs}"></p>
					<p th:text="${'Hours per day: ' + employee.hourPerDay()}"></p>
					<p th:text="${'Salary per hour: ' + employee.getSalary_per_hour()}"></p>
					<p th:text="${'TOTAL SALARY: ' + result2}"></p>
				</div>
			</div>
			
			
			<div id="dayoff" class="tab-pane fade">
				<h3 style="color: black; font-family: 'Cormorant Garamond', serif; font-size: 20px"  >DayOffs</h3>
				<label style="color: black; font-family: 'Cormorant Garamond', serif; font-size: 20px"  >Dayoffs history: </label>
				<div th:each="d : ${dayoff}">
					<span th:text="${d.getDayoff_id().getDay()}"></span> 
					<a th:href="${'/manager/delete?id='+employee.getEmployee_id()+'&day='+d.getDayoff_id().getDay()}">
					<button style="color: black; font-family: 'Cormorant Garamond', serif; font-size: 20px"  type="button">Delete</button></a>
				</div>
				<br>
				<label style="color: black; font-family: 'Cormorant Garamond', serif; font-size: 20px" >Add new day-off: </label>
				<form action="@{/manager/edit}+employee.getEmployee_id()"
					th:action="@{/manager/dayoff}" method="post">
					<input type="hidden" th:name="id"
						th:value="${employee.getEmployee_id()}" /> <label>Day:</label>
					<input type="date" th:name="day" /> <input type="submit"
						value="Add" />
				</form>
				<p th:text="${message2}"></p>
			</div>

		</div>
	</div>

	<script>
	$(document).ready(function(){
	    $('a[data-toggle="tab"]').on('show.bs.tab', function(e) {
	        localStorage.setItem('activeTab', $(e.target).attr('href'));
	    });
	    var activeTab = localStorage.getItem('activeTab');<!DOCTYPE html>
<html xmlns:th="http://www.w3.org/1999/xhtml">
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="preconnect" href="https://fonts.gstatic.com">
	<link href="https://fonts.googleapis.com/css2?family=Junge&display=swap" rel="stylesheet">
	<link rel="preconnect" href="https://fonts.gstatic.com">
	<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,600;1,400&family=Junge&display=swap" rel="stylesheet">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
<style>
table {
  border: 1px solid black;
}
</style>
</head>
<div class="d-flex flex-column flex-md-row justify-content-center align-items-center p-3 px-md-4 mb-3 bg-white border-bottom shadow-sm" style="height: 100px;">
	<p style="color: black; font-family: 'Cormorant Garamond', serif; font-size: 20px" >Hedgehogs Hotel Chain</p> <p style="color: #FFFFFF">kkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkk</p>

	<img src="https://tattmight.com/albums/userpics/2015y/02/09/20/206/0319-I_have_no_interest_i_8_ink.jpg" style="justify-content: center; width: 160px; height: 100px;">
	<p style="color: #FFFFFF">kkkkkkkkkkkkkkkk kkklkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkk</p>

	<a class="btn btn-outline-dark" th:href="@{/}">Main page</a>
	<a class="btn btn-outline-dark" th:href="@{/manager}">Manager menu</a>
	<a class="btn btn-outline-dark" th:href="@{/manager/search}">Employee search</a>

	<nav class="my-2 my-md-0 mr-md-3">
	</nav>

	<!--  <a class="btn btn-outline-primary" th:href="@{profile}">My profile</a>-->
</div>
<body>


	<div class="container">
		<h2 style="color: black; font-family: 'Cormorant Garamond', serif; font-size: 20px"  th:text="${employee.getEmployee().getName() + ' ' + employee.getEmployee().getSecond_name()}"></h2>
		<h3 style="color: black; font-family: 'Cormorant Garamond', serif; font-size: 20px"  th:text="${employee.getEmployee().getEmployee_type()}"></h3>
		
		<ul class="nav nav-tabs" id="myTab">
			<li style="color: black; font-family: 'Cormorant Garamond', serif; font-size: 20px"  class="nav-item"><a href="#schedule" class="nav-link active" data-toggle="tab">Change schedule</a></li>
			<li style="color: black; font-family: 'Cormorant Garamond', serif; font-size: 20px"   class="nav-item"><a href="#salary" class="nav-link active" data-toggle="tab">Calculate Salary</a></li>
			<li style="color: black; font-family: 'Cormorant Garamond', serif; font-size: 20px"  class="nav-item"><a href="#dayoff" class="nav-link active" data-toggle="tab">Add day-offs</a></li>
		</ul>

		<div class="tab-content">
			<div id="schedule" class="tab-pane fade in active">
				<h3 style="color: black; font-family: 'Cormorant Garamond', serif; font-size: 20px"   th:text="${'Schedule'}"></h3>
				<label style="color: black; font-family: 'Cormorant Garamond', serif; font-size: 20px"   th:text="${'Current schedule: '}"></label>
				<div style="color: black; font-family: 'Cormorant Garamond', serif; font-size: 20px"   th:each="w : ${employee.getFullWeekdays()}">
					<div style="color: black; font-family: 'Cormorant Garamond', serif; font-size: 20px"
						 th:text="${w +': ' + employee.getFrom() + ' - ' + employee.getTo()}"></div>
				</div>
				<br>
				<label style="color: black; font-family: 'Cormorant Garamond', serif; font-size: 20px"  >Fill the form and save to change the schedule</label>
				<form action="@{/manager/search}" th:action="@{/manager/save}"
					th:object="${employee}" method="post">

					<input type="hidden" th:field="*{employee_id}" />

					<p style="color: black; font-family: 'Cormorant Garamond', serif; font-size: 20px" >
						Working Hours: <input type="text" th:field="*{from}" /> - <input
							type="text" th:field="*{to}" />
					</p>
					<p style="color: black; font-family: 'Cormorant Garamond', serif; font-size: 20px"  >
						Weekdays: <input type="checkbox" name="weekdays"
							th:each="w : ${weekday}" th:text="${w}"
							th:value="${#strings.substring(w,0,1)}" th:field="*{weekdays}" />
					</p>
					<p style="color: black; font-family: 'Cormorant Garamond', serif; font-size: 20px"  >
						Salary per hour: <input type="text" th:field="*{salary_per_hour}" />
					</p>

					<button style="color: black; font-family: 'Cormorant Garamond', serif; font-size: 20px"   type="submit">Save</button>
				</form>
				
				<p style="color: black; font-family: 'Cormorant Garamond', serif; font-size: 20px"  th:text="${message}"></p>
			</div>
			
			
			<div id="salary" class="tab-pane fade">
				<h3 style="color: black; font-family: 'Cormorant Garamond', serif; font-size: 20px"   th:text="${'Salary'}"></h3>
				<p style="color: black; font-family: 'Cormorant Garamond', serif; font-size: 20px"   th:text="${'Current date: '+employee.getCurDate()}"></p>
				<br>
				<div
					th:with="result=${employee.totalSalary()-employee.getSalary_per_hour()*employee.hourPerDay()*monthdayoff}">
					<label style="color: black; font-family: 'Cormorant Garamond', serif; font-size: 20px"  >This month salary:</label>
					<p th:text="${'Planned working days: ' + employee.getWorkedDays()}"></p>
					<p th:text="${'Number of days-off: ' + monthdayoff}"></p>
					<p th:text="${'Hours per day: ' + employee.hourPerDay()}"></p>
					<p th:text="${'Salary per hour: ' + employee.getSalary_per_hour()}"></p>
					<p th:text="${'TOTAL SALARY: ' + result}"></p>
				</div>
				<br>
				<label style="color: black; font-family: 'Cormorant Garamond', serif; font-size: 20px" >Optional calculation: </label>
				<br>
				<form action="@{/manager/edit}+employee.getEmployee_id()"
				th:action="@{/manager/salary}"
					 method="post">
				<input style="color: black; font-family: 'Cormorant Garamond', serif; font-size: 20px"   type="hidden" th:name="id"
						th:value="${employee.getEmployee_id()}" />
				From: <input style="color: black; font-family: 'Cormorant Garamond', serif; font-size: 20px"  type="date" th:name="fromS" /> To: <input type="date" th:name="toS" /> <input type="submit"
						value="Calculate" />
				</form>
				<p th:text="${message3}"></p>
				<div th:if="${workdays!=null}"
					th:with="result2=${employee.getSalary_per_hour()*employee.hourPerDay()*(workdays-dayoffs)}">
					<label th:text="${'Salary for the dates: ' + froms + ' - ' + tos}"></label>
					<p th:text="${'Planned working days: ' + workdays}"></p>
					<p th:text="${'Number of days-off: ' + dayoffs}"></p>
					<p th:text="${'Hours per day: ' + employee.hourPerDay()}"></p>
					<p th:text="${'Salary per hour: ' + employee.getSalary_per_hour()}"></p>
					<p th:text="${'TOTAL SALARY: ' + result2}"></p>
				</div>
			</div>
			
			
			<div id="dayoff" class="tab-pane fade">
				<h3 style="color: black; font-family: 'Cormorant Garamond', serif; font-size: 20px"  >DayOffs</h3>
				<label style="color: black; font-family: 'Cormorant Garamond', serif; font-size: 20px"  >Dayoffs history: </label>
				<div th:each="d : ${dayoff}">
					<span th:text="${d.getDayoff_id().getDay()}"></span> 
					<a th:href="${'/manager/delete?id='+employee.getEmployee_id()+'&day='+d.getDayoff_id().getDay()}">
					<button style="color: black; font-family: 'Cormorant Garamond', serif; font-size: 20px"  type="button">Delete</button></a>
				</div>
				<br>
				<label style="color: black; font-family: 'Cormorant Garamond', serif; font-size: 20px" >Add new day-off: </label>
				<form action="@{/manager/edit}+employee.getEmployee_id()"
					th:action="@{/manager/dayoff}" method="post">
					<input type="hidden" th:name="id"
						th:value="${employee.getEmployee_id()}" /> <label>Day:</label>
					<input type="date" th:name="day" /> <input type="submit"
						value="Add" />
				</form>
				<p th:text="${message2}"></p>
			</div>

		</div>
	</div>

	<script>
	$(document).ready(function(){
	    $('a[data-toggle="tab"]').on('show.bs.tab', function(e) {
	        localStorage.setItem('activeTab', $(e.target).attr('href'));
	    });
	    var activeTab = localStorage.getItem('activeTab');
	    if(activeTab){
	        $('#myTab a[href="' + activeTab + '"]').tab('show');
	    }
		});
	
</script>
</body>
</html>
	    if(activeTab){
	        $('#myTab a[href="' + activeTab + '"]').tab('show');
	    }
		});
	
</script>
</body>
</html>
